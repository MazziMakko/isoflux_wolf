# =====================================================
# ISOFLUX: THE WOLF SHIELD — ENV TEMPLATE
# HUD-Compliant SaaS Configuration
# Copy to .env and fill with real values locally.
# NEVER commit .env or push real keys to the repo.
# =====================================================

# Application
NEXT_PUBLIC_APP_URL=http://localhost:3000
NODE_ENV=development
NEXT_PUBLIC_APP_NAME=IsoFlux Wolf Shield

# Supabase (Dashboard → Settings → API)
# Use placeholders only; real keys only in local .env or Vercel env vars.
NEXT_PUBLIC_SUPABASE_URL=https://your-project-ref.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# Database (Supabase → Settings → Database → Connection string)
# Used by Prisma for migrations and direct database access
DATABASE_URL=postgresql://postgres:YOUR_DB_PASSWORD@db.your-project-ref.supabase.co:5432/postgres
DIRECT_URL=postgresql://postgres:YOUR_DB_PASSWORD@db.your-project-ref.supabase.co:5432/postgres

# Stripe (Dashboard → Developers → API keys / Webhooks)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
STRIPE_PRICE_STARTER=price_your_starter_price_id
STRIPE_PRICE_PRO=price_your_pro_price_id
STRIPE_PRICE_ENTERPRISE=price_your_enterprise_price_id

# Cron (generate: openssl rand -hex 32)
CRON_SECRET=generate_random_32_character_secret_here

# AI / Ollama (optional)
OLLAMA_API_URL=http://localhost:11434
OLLAMA_MODEL=llama3.2
AI_FALLBACK_ENABLED=true

# Security (generate: openssl rand -base64 32)
JWT_SECRET=your_jwt_secret_min_32_characters
ENCRYPTION_KEY=your_encryption_key_32_characters

# Rate limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000

# Optional: Sentry, GA, SMTP
# SENTRY_DSN=
# NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=
# SMTP_PASSWORD=

# Optional: Webhooks (if used)
# MERCURY_WEBHOOK_SECRET=
# FLUTTERWAVE_SECRET_HASH=

# =====================================================
# WOLF SHIELD: HUD-SPECIFIC CONFIGURATION
# =====================================================

# Wolf Shield Settings
WOLF_SHIELD_ENABLED=true
LEDGER_AUTO_VERIFY=true # Automatically verify ledger integrity on startup
COMPLIANCE_HEALTH_THRESHOLD=70 # Minimum compliance health percentage (0-100)

# HUD Compliance
HUD_CERTIFICATION_REQUIRED=true
DEFAULT_ACCOUNTING_PERIOD_CLOSE_DAY=5 # Day of month to auto-close previous period (1-31)
RECERTIFICATION_WARNING_DAYS=30 # Days before recertification due to send warning

# Role-Based Access Control
SUPER_ADMIN_EMAIL=admin@yourcompany.com # Initial super admin account
DEFAULT_TRIAL_DAYS=30 # Trial period length in days
SUBSCRIPTION_GRACE_PERIOD_DAYS=7 # Days after payment failure before suspension

# Ledger Configuration
LEDGER_HASH_ALGORITHM=SHA256 # Cryptographic hash algorithm (do not change)
LEDGER_CHAIN_VERIFICATION_ON_INSERT=true # Verify chain before each insert
LEDGER_MAX_DESCRIPTION_LENGTH=500 # Max characters for transaction description

# Realtime Updates
REALTIME_ENABLED=true
REALTIME_LEDGER_CHANNEL_PREFIX=ledger # Supabase Realtime channel prefix
REALTIME_SUBSCRIPTION_CHANNEL_PREFIX=subscription

# Security: Ledger Immutability
ALLOW_LEDGER_DELETE=false # NEVER set to true in production
ALLOW_LEDGER_UPDATE=false # NEVER set to true in production
ENFORCE_PERIOD_CLOSURE=true # Prevent entries to closed periods

# Notifications (Optional - for compliance alerts)
# SEND_RECERTIFICATION_REMINDERS=true
# SEND_COMPLIANCE_ALERTS=true
# NOTIFICATION_EMAIL_FROM=noreply@yourcompany.com

# Audit & Logging
AUDIT_LOG_ENABLED=true
AUDIT_RETENTION_DAYS=2555 # 7 years for HUD compliance (2555 days)
